!function(a,b){"use strict";a.module("htmlSortable",[]).directive("htmlSortable",["$timeout","$parse",function(c,d){return{require:"?ngModel",link:function(e,f,g,h){var i,j;i=a.extend({},e.$eval(g.htmlSortable)),b(f).sortable(i),h&&(j=d(g.ngModel),h.$render=function(){c(function(){f.sortable("reload")},50)},e.$watch(j,function(){c(function(){f.sortable("reload")},50)},!0),b(f).sortable().bind("sortupdate",function(a,b){var c,f,g,h,i=b.startparent.attr("ng-model"),j=b.endparent.attr("ng-model"),k=d(i),l=d(j),m=b.oldindex,n=b.item.index();e.$apply(function(){i===j?(c=k(e),c.splice(n,0,c.splice(m,1)[0]),k.assign(e,c)):(f=e[i][m],g=k(e),h=l(e),g.splice(m,1),h.splice(n,0,f),k.assign(e,g),l.assign(e,h))})}))}}}])}(angular,window.jQuery);